{"version":3,"file":"build.js","sources":["../ts_build/game/api/api-impl.js","../ts_build/game/game-state.js","../ts_build/game.main.js"],"sourcesContent":["var RegularIndiacaScore = (function () {\n    function RegularIndiacaScore(listener, playerId) {\n        this.actualHits = 0;\n        this.points = 0;\n        this.listeners = new Array();\n        this.listeners.push(listener);\n        this.playerId = playerId;\n    }\n    RegularIndiacaScore.prototype.getPlayerId = function () {\n        return this.playerId;\n    };\n    RegularIndiacaScore.prototype.getPoints = function () {\n        return this.points;\n    };\n    RegularIndiacaScore.prototype.addScoreEventListener = function (l) {\n        this.listeners.push(l);\n    };\n    RegularIndiacaScore.prototype.indiacaHitGroundOfOpponent = function () {\n        this.addPoint();\n    };\n    RegularIndiacaScore.prototype.indiacaTouchedByOpponent = function () {\n        this.actualHits = this.actualHits + 1;\n        if (this.actualHits == RegularIndiacaScore.MAX_HITS) {\n            this.addPoint();\n            this.actualHits = 0;\n        }\n    };\n    RegularIndiacaScore.prototype.addPoint = function () {\n        var _this = this;\n        this.points = this.points + 1;\n        this.listeners.forEach(function (element) {\n            element.playerHasnewScore(_this);\n        });\n    };\n    RegularIndiacaScore.MAX_HITS = 3;\n    return RegularIndiacaScore;\n}());\nexport { RegularIndiacaScore };\n//# sourceMappingURL=api-impl.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { RegularIndiacaScore } from './api/api-impl';\nvar GameState = (function (_super) {\n    __extends(GameState, _super);\n    function GameState() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    GameState.prototype.playerHasnewScore = function (score) {\n        console.log('Player ' + score.getPlayerId() + ' scored! Has now ' + score.getPoints() + ' points');\n    };\n    GameState.prototype.preload = function () {\n        this.game.load.spritesheet('indiaca', '../assets/IndiacaBall.png', 32, 32);\n        this.game.load.image('sky', '../assets/sky.png');\n        this.game.load.image('groundLeft', '../assets/groundLeft.png');\n        this.game.load.image('groundRight', '../assets/groundRight.png');\n        this.game.load.spritesheet('dude', '../assets/dude.png', 32, 48);\n        this.game.load.image('net', '../assets/Stick.png');\n    };\n    GameState.prototype.create = function () {\n        var CENTER_X = this.game.world.width / 2;\n        this.game.add.sprite(0, 0, 'sky');\n        //  We're going to be using physics, so enable the Arcade Physics system\n        this.game.physics.startSystem(Phaser.Physics.ARCADE);\n        //  The platforms group contains the ground and the 2 ledges we can jump on\n        this.platforms = this.game.add.group();\n        //  We will enable physics for any object that is created in this group\n        this.platforms.enableBody = true;\n        // Here we create the ground.\n        this.groundLeft = this.platforms.create(0, this.game.world.height - 64, 'groundLeft');\n        //  Scale it to fit the width of the game (the original sprite is 400x32 in size)\n        this.groundLeft.scale.setTo(1, 2);\n        //  This stops it from falling away when you jump on it\n        this.groundLeft.body.immovable = true;\n        // Here we create the ground.\n        this.groundRight = this.platforms.create(CENTER_X, this.game.world.height - 64, 'groundRight');\n        //  Scale it to fit the width of the game (the original sprite is 400x32 in size)\n        this.groundRight.scale.setTo(2, 2);\n        //  This stops it from falling away when you jump on it\n        this.groundRight.body.immovable = true;\n        // The net \n        this.net = this.game.add.sprite(CENTER_X - 8, this.game.world.height - 180, 'net');\n        this.game.physics.arcade.enable(this.net);\n        this.net.scale.setTo(1, 1.2);\n        this.net.body.immovable = true;\n        this.net.body.bounce = 0.1;\n        // The indiaca\n        this.indiaca = this.game.add.sprite(0, 0, 'indiaca');\n        this.game.physics.arcade.enable(this.indiaca);\n        this.indiaca.body.bounce.y = 0.9;\n        this.indiaca.body.bounce.x = 0.9;\n        this.indiaca.body.gravity.set(10, 300);\n        this.indiaca.body.collideWorldBounds = true;\n        this.indiaca.animations.add('up', [0, 3, 2], 10, false);\n        this.indiaca.animations.add('down', [2, 1, 0], 10, false);\n        //The group for both players;\n        this.players = this.game.add.group();\n        this.players.enableBody = true;\n        // The left player\n        this.playerLeftScore = new RegularIndiacaScore(this, 'playerLeft');\n        this.playerLeft = this.players.create(32, this.game.world.height - 150, 'dude');\n        this.playerLeft.body.bounce.y = 0;\n        this.playerLeft.body.gravity.y = 300;\n        this.playerLeft.body.collideWorldBounds = true;\n        this.playerLeft.animations.add('left', [0, 1, 2, 3], 10, true);\n        this.playerLeft.animations.add('right', [5, 6, 7, 8], 10, true);\n        // The right player\n        this.playerRightScore = new RegularIndiacaScore(this, 'playerRight');\n        this.playerRight = this.players.create(this.game.world.width - 10, this.game.world.height - 150, 'dude');\n        this.playerRight.body.bounce.y = 0;\n        this.playerRight.body.gravity.y = 300;\n        this.playerRight.body.collideWorldBounds = true;\n        this.playerRight.animations.add('left', [0, 1, 2, 3], 10, true);\n        this.playerRight.animations.add('right', [5, 6, 7, 8], 10, true);\n        this.cursorPlayerRight = this.game.input.keyboard.createCursorKeys();\n        this.upButton = this.game.input.keyboard.addKey(Phaser.Keyboard.W);\n        this.downButton = this.game.input.keyboard.addKey(Phaser.Keyboard.S);\n        this.leftButton = this.game.input.keyboard.addKey(Phaser.Keyboard.A);\n        this.rightButton = this.game.input.keyboard.addKey(Phaser.Keyboard.D);\n    };\n    GameState.prototype.update = function () {\n        //  Collision handling\n        var playerLeftHitPlatform = this.game.physics.arcade.collide(this.playerLeft, this.platforms);\n        var playerRightHitPlatform = this.game.physics.arcade.collide(this.playerRight, this.platforms);\n        var indiacaHitPlatform = this.game.physics.arcade.collide(this.indiaca, this.platforms);\n        var indiacaHitNet = this.game.physics.arcade.collide(this.indiaca, this.net);\n        var indiacaHitPlayerLeft = this.game.physics.arcade.collide(this.indiaca, this.playerLeft);\n        var indiacaHitPlayerRight = this.game.physics.arcade.collide(this.indiaca, this.playerRight);\n        var indiacaHitGroundPlayerLeft = this.game.physics.arcade.collide(this.indiaca, this.groundLeft);\n        var indiacaHitGroundPlayerRight = this.game.physics.arcade.collide(this.indiaca, this.groundRight);\n        var facing = this.indiaca.body.facing;\n        //console.log(\"facing: \" + facing + \": velocity: \" + indiaca.body.velocity.y);\n        if (this.indiacaDirection != facing) {\n            if (facing = 3) {\n                this.indiaca.animations.play('up');\n            }\n            if (facing = 4) {\n                this.indiaca.animations.play('down');\n            }\n        }\n        this.indiacaDirection = facing;\n        //  Reset the players velocity (movement)\n        this.playerLeft.body.velocity.x = 0;\n        this.playerRight.body.velocity.x = 0;\n        if (this.cursorPlayerRight.left.isDown) {\n            //  Move to the left\n            this.playerRight.body.velocity.x = -150;\n            this.playerRight.animations.play('left');\n        }\n        else if (this.cursorPlayerRight.right.isDown) {\n            //  Move to the right\n            this.playerRight.body.velocity.x = 150;\n            this.playerRight.animations.play('right');\n        }\n        else {\n            //  Stand still\n            this.playerRight.animations.stop();\n            this.playerRight.frame = 4;\n        }\n        //  Allow the player to jump if they are touching the ground.\n        if (this.cursorPlayerRight.up.isDown && this.playerRight.body.touching.down && playerRightHitPlatform) {\n            this.playerRight.body.velocity.y = -300;\n        }\n        if (this.leftButton.isDown) {\n            //  Move to the left\n            this.playerLeft.body.velocity.x = -150;\n            this.playerLeft.animations.play('left');\n        }\n        else if (this.rightButton.isDown) {\n            //  Move to the right\n            this.playerLeft.body.velocity.x = 150;\n            this.playerLeft.animations.play('right');\n        }\n        else {\n            //  Stand still\n            this.playerLeft.animations.stop();\n            this.playerLeft.frame = 4;\n        }\n        //  Allow the player to jump if they are touching the ground.\n        if (this.upButton.isDown && this.playerLeft.body.touching.down && playerLeftHitPlatform) {\n            this.playerLeft.body.velocity.y = -300;\n        }\n        if (indiacaHitPlatform) {\n            this.indiaca.body.velocity.y = 0;\n            this.indiaca.body.velocity.x = 0;\n        }\n        if (indiacaHitPlayerLeft) {\n            this.indiaca.body.velocity.y = -350;\n            this.playerRightScore.indiacaTouchedByOpponent();\n        }\n        if (indiacaHitPlayerRight) {\n            this.indiaca.body.velocity.y = -350;\n            this.playerLeftScore.indiacaTouchedByOpponent();\n        }\n        if (indiacaHitGroundPlayerLeft) {\n            this.playerRightScore.indiacaHitGroundOfOpponent();\n        }\n        if (indiacaHitGroundPlayerRight) {\n            this.playerLeftScore.indiacaHitGroundOfOpponent();\n        }\n    };\n    GameState.prototype.render = function () {\n        //debug helper\n        this.game.debug.spriteInfo(this.indiaca, 32, 48);\n    };\n    return GameState;\n}(Phaser.State));\nexport { GameState };\n//# sourceMappingURL=game-state.js.map","/// <reference path=\"../typings/phaser.d.ts\"/>\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { GameState } from './game/game-state';\nvar App = (function (_super) {\n    __extends(App, _super);\n    function App() {\n        var _this = _super.call(this, 800, 600, Phaser.AUTO, 'content', null) || this;\n        //this.state.add('Boot', BootState);\n        //this.state.add('Preloader', PreloaderState);\n        _this.state.add('GameState', GameState);\n        _this.state.start('GameState');\n        return _this;\n    }\n    return App;\n}(Phaser.Game));\nexport { App };\n// when the page has finished loading, create our game\nwindow.onload = function () {\n    var game = new App();\n};\n//# sourceMappingURL=game.main.js.map"],"names":["__extends","this"],"mappings":"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"}